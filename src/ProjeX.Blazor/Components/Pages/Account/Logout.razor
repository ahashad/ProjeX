@page "/Account/Logout"
@rendermode @(new InteractiveServerRenderMode(prerender: false))
@inject IJSRuntime JSRuntime

<PageTitle>Logout - ProjeX</PageTitle>

<div class="text-center">
    <p>Signing you out...</p>
    <form id="logoutForm" method="post" action="/api/account/logout">
      <AntiforgeryToken />
    </form>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JSRuntime.InvokeVoidAsync("eval", "document.getElementById('logoutForm').submit()");
        }
    }
}

